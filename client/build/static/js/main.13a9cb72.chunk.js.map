{"version":3,"sources":["apiHelper.js","editor/song/Track.js","editor/song/Block.js","editor/song/Song.js","editor/song/EditableSong.js","editor/InstrEdit.js","editor/blockEdit/Tile.js","editor/blockEdit/Line.js","editor/blockEdit/BlockEdit.js","editor/time/Block.js","editor/time/Track.js","editor/time/Time.js","editor/Editor.js","Home.js","Login.js","Register.js","SongPlayer.js","Profile.js","constants.js","App.js","serviceWorker.js","index.js"],"names":["apiHelper","registerCaptcha","req","XMLHttpRequest","open","captchaPromise","Promise","resolve","reject","onreadystatechange","readyState","status","response","send","register","name","user","pass","captcha","console","log","setRequestHeader","JSON","stringify","username","password","login","res","parse","Cookies","expires","token","refreshSecret","createSong","song","undefined","id","getSongs","userId","url","getSong","type","songPromise","Track","track","Object","classCallCheck","this","blocks","settings","typeId","metadata","types","dataValues","off","on","start","end","mid","convertFromData","data","block","i","length","dataLine","line","j","value","push","clickF","startF","endF","midF","Block","storedBlock","months","getFormattedDate","date","currentDate","Date","getDate","getMonth","getFullYear","totMin","Math","floor","hours","minutes","hourString","minuteString","Song","songMeta","tracks","bpm","blockLength","createDate","updateDate","author","setKey","loaded","freq","keyType","key","step","Tone","Frequency","transpose","synth","releaseAll","instruments","activeBlock","_this","Transport","cancel","PolySynth","Synth","toMaster","triggerAttackRelease","loopEnd","loop","count","Loop","time","triggerAttack","triggerRelease","stop","APIHelper","getSendableSong","sendableSong","map","convertToData","abs","EditableSong","possibleConstructorReturn","getPrototypeOf","call","selectedTrack","InstrEdit","params","react_default","a","createElement","Component","Tile","props","state","tile","event","dragger","active","forceUpdate","class","onMouseDown","bind","onMouseUp","onMouseMove","Line","tiles","blockEdit_Tile","lineNum","BlockEdit","lines","blockEdit_Line","Template","remove","className","onClick","time_Block","Time","time_Track","removeTrack","assertThisInitialized","offset","copy","slice","setState","me","filter","addTrack","Editor","playing","error","keysArray","keyOptions","ready","songId","match","load","then","parsed","catch","err","errComp","pause","play","evt","preventDefault","save","newState","val","target","setName","setBPM","_this2","handleToggle","onChange","onSubmit","onSave","required","placeholder","editor_InstrEdit","blockEdit_BlockEdit","time_Time","Home","slide1","backgroundImage","slide2","slide3","data-ride","data-target","data-slide-to","role","style","href","data-slide","aria-hidden","background","width","Login","alertComponent","comp","Redirect","to","for","autofocus","Link","Register","capt","thing","DOMParser","parseFromString","image","firstChild","element","dangerouslySetInnerHTML","__html","innerHTML","answer","SongPlayer","redirect","playBtn","_this3","onPlayPause","onEdit","getFormattedCreate","hasBeenUpdated","getFormattedUpdate","Profile","songs","songMetas","src_SongPlayer","constant","ROOT_PATH","App","itemNames","destination","navBarItems","index","BrowserRouter","basename","data-toggle","aria-controls","aria-expanded","aria-label","Route","path","component","aria-haspopup","aria-labelledby","exact","Boolean","window","location","hostname","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","registration","unregister"],"mappings":"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","file":"static/js/main.13a9cb72.chunk.js","sourcesContent":["import * as Cookies from 'js-cookie';\n\nconst in30Minutes = 1/48;\n\nvar apiHelper =\n{\n    registerCaptcha: function() {\n\tvar req = new XMLHttpRequest();\n\treq.open(\"GET\", \"/api/user/register\", true);\n\tvar captchaPromise = new Promise((resolve, reject) => {\n\t    req.onreadystatechange = () => {\n\t\t// Done\n\t\tif (req.readyState === 4) {\n\t\t    if (req.status === 200) {\n\t\t\tresolve(req.response);\n\t\t    } else {\n\t\t\treject(req.response);\n\t\t    }\n\t\t}\n\t    };\n\t});\n\treq.send();\n\treturn captchaPromise;\n    },\n    register: function(name, user, pass, captcha) {\n\tconsole.log(captcha);\n\tvar req = new XMLHttpRequest();\n\treq.open(\"POST\", \"/api/user/register\", false);\n\treq.setRequestHeader(\"Content-Type\", \"application/json\");\n\treq.send(JSON.stringify({\n\t    name: name,\n\t    username: user,\n\t    password: pass,\n\t    captcha: captcha\n\t}));\n\tif (req.status === 201)\n\t{\n\t    return \"Success\";\n\t}\n\treturn req.response;\n    },\n    login: function(user, pass) {\n\tvar req = new XMLHttpRequest();\n\treq.open(\"POST\", \"/api/user/login\", false);\n\treq.setRequestHeader(\"Content-Type\", \"application/json\");\n\treq.send(JSON.stringify({\n\t    username: user,\n\t    password: pass\n\t}));\n\tif (req.status === 200)\n\t{\n\t    var res = JSON.parse(req.response);\n\t    Cookies.set('name', res.name || \"unknown\", {\n\t\texpires: in30Minutes\n\t    });\n\t    Cookies.set('token', res.token, {\n\t\texpires: in30Minutes\n\t    });\n\t    Cookies.set('secret', res.refreshSecret, {\n\t\texpires: in30Minutes\n\t    });\n\t    return \"Success\";\n\t}\n\treturn req.response;\n    },\n    createSong: function(song) {\n\tvar token = Cookies.get('token');\n\tif(!(token === undefined)) {\n\t    var req = new XMLHttpRequest();\n\t    req.open(\"POST\", \"/api/songs/create\", false);\n\t    req.setRequestHeader(\"Content-Type\", \"application/json\");\n\t    req.setRequestHeader(\"Authorization\", token);\n\t    req.send(JSON.stringify(song));\n\t    console.log(req.response);\n\t    if (req.status === 200) {\n\t\treturn req.response.id;\n\t    }\n\t} else {\n\t    console.log(\"not logged in!\");\n\t}\n    },\n    getSongs: function(userId) {\n\tvar req = new XMLHttpRequest();\n\tvar url;\n\tif(userId === undefined) {    \n\t    url = \"/api/songs\";\n\t} else {\n\t    url = \"/api/songs/get?userId=\" + userId;\n\t}\n\treq.open(\"GET\", url, false);\n\treq.send();\n\treturn (JSON.parse(req.response));\n    },\n    getSong: function(id, type) {\n\tvar req = new XMLHttpRequest();\n\ttype = type || \"/full\";\n\treq.open(\"GET\", \"/api/songs/\" + id + type, true);\n\tvar songPromise = new Promise((resolve, reject) => {\n\t    req.onreadystatechange = () => {\n\t\t// Done\n\t\tif (req.readyState === 4) {\n\t\t    // Success\n\t\t    if (req.status === 200) {\n\t\t\tresolve(req.response);\n\t\t    } else {\n\t\t\treject(req.response);\n\t\t    }\n\t\t}\n\t    }\n\t});\n\treq.send();\n\treturn songPromise;\n    }\n};\n\nexport default apiHelper;\n","class Track {\n    constructor(track) {\n\tif (!track === undefined) {\n\t    this.track = track;\n\t} else {\n\t    this.track = {\n\t\tblocks: [\n\t\t    1\n\t\t],\n\t\tsettings: {\n\t\t    typeId: 1,\n\t\t    metadata: \"123ab\"\n\t\t}\n\t    }\n\t}\n    }\n}\n\nexport default Track;\n","const types = ['off', 'on', 'start', 'end', 'mid'];\nconst dataValues = {\n    'off': 0, 'on': 1, 'start': 2, 'end': 3, 'mid': 4\n}\n\n// convert block from integer data\nvar convertFromData = (data, block) => {\n    for (let i = 0; i < data.length; i++)\n    {\n\tlet dataLine = data[i];\n\tlet line = [];\n\tfor (let j = 0; j < dataLine.length; j++)\n\t{\n\t    let value = dataLine[j];\n\t    line.push({\n\t\ttype: types[value],\n\t\tclickF: function() {\n\t\t    if(this.type === 'off')\n\t\t    {\n\t\t\tthis.type = 'on';\n\t\t    }\n\t\t    else\n\t\t    {\n\t\t\tthis.type = 'off';\n\t\t    }\n\t\t},\n\t\tstartF: function() {\n\t\t    this.type = 'start';\n\t\t},\n\t\tendF: function() {\n\t\t    this.type = 'end';\n\t\t},\n\t\tmidF: function() {\n\t\t    this.type = 'mid';\n\t\t}\t\n\t    });\n\t}\n\tblock.push(line);\n    }\n};\n\n// playable / editable block\nclass Block {\n    constructor(storedBlock) {\n\tthis.block = [];\n\tif (!(storedBlock === undefined)) {\n\t    // load block from data\n\t    convertFromData(storedBlock.data, this.block);\n\t} else {\n\t    // create blank block\n\t    for (let i = 0; i < 12; i++) {\n\t\tlet line = [];\n\t\tfor(let j = 0; j < 16; j++) {\n\t\t    line.push({\n\t\t\ttype: 'off',\n\t\t\tclickF: function() {\n\t\t\t    if(this.type === 'off')\n\t\t\t    {\n\t\t\t\tthis.type = 'on';\n\t\t\t    }\n\t\t\t    else\n\t\t\t    {\n\t\t\t\tthis.type = 'off';\n\t\t\t    }\n\t\t\t},\n\t\t\tstartF: function() {\n\t\t\t    this.type = 'start';\n\t\t\t},\n\t\t\tendF: function() {\n\t\t\t    this.type = 'end';\n\t\t\t},\n\t\t\tmidF: function() {\n\t\t\t    this.type = 'mid';\n\t\t\t}\n\t\t    });\n\t\t}\n\t\tthis.block.push(line);\n\t    }\n\t}\n    }\n\n    convertToData() {\n\tlet data = [];\n\tfor (let i = 0; i < this.block.length; i++) {\n\t    let line = this.block[i];\n\t    let dataLine = [];\n\t    for (let j = 0; j < line.length; j++) {\n\t\tlet value = line[j].type;\n\t\tdataLine.push(dataValues[value]);\n\t    }\n\t    data.push(dataLine);\n\t}\n\treturn data;\n    }\n}\n\nexport default Block;\n","import Tone from 'tone';\nimport APIHelper from '../../apiHelper.js'\nimport Track from './Track.js';\nimport Block from './Block.js';\n\nclass Song {\n    // User: opening song, id of song\n    constructor(songMeta) {\n\tthis.blocks = [];\n\tthis.tracks = [];\n\tif (!(songMeta === undefined)) {\n\t    // Song exist: Load meta\n\t    this.name = songMeta.name;\n\t    this.bpm = songMeta.bpm;\n\t    this.blockLength = songMeta.blockLength;\n\n\t    this.createDate = new Date(songMeta.createDate);\n\t    this.updateDate = new Date(songMeta.updateDate);\n\t    this.author = songMeta.user.name;\n\t    this.username = songMeta.user.username;\n\n\t    this.id = songMeta.id;\n\t} else {\n\t    // Empty meta\n\t    this.name = \"awesome song\";\n\t    this.bpm = 120;\n\t    this.blockLength = 1;\n\t}\n\tthis.setKey();\n\tthis.loaded = false;\n    }\n\n    setKey(freq, type) {\n\tthis.freq = freq || \"C\";\n\tthis.keyType = type || \"Maj\";\n\tthis.key = [];\n\tthis.key[11] = (this.freq + \"3\");\n\tvar step = (type === \"Maj\") ? \n\t    [2, 2, 1, 2, 2, 2, 1, 2, 2, 1, 2] :\n\t    [2, 1, 2, 2, 1, 2, 2, 2, 1, 2, 2];\n\tfor (let i = 10, j = 0; i >= 0; i--, j++) {\n\t    this.key[i] = Tone.Frequency(this.key[i+1]).transpose(step[j]);\n\t}\n\tif (this.synth) this.synth.releaseAll();\n    }\n\n    load(songMeta) {\n\tthis.blocks.push(null);\n\tif(this.id === undefined || songMeta === undefined)\n\t{\n\t    // Load empty song\n\t    this.blocks.push(new Block());\n\t    this.tracks.push(new Track()); \n\t} else {\n\t    // Load song from composition data\n\t    for (let i = 0; i < songMeta.instruments.length; i++) {\n\t\tthis.tracks.push(new Track(songMeta.instruments[i]));\n\t    }\n\t    for (let i = 1; i <= this.blockLength; i++) {\n\t\tlet block = new Block(songMeta.blocks[i]);\n\t\tthis.blocks.push(block);\n\t    }\n\t}\n\tthis.activeBlock = this.blocks[1].block;\n\tthis.loaded = true;\n    }\n\n    start() {\n\tTone.Transport.cancel();\n\tthis.synth = new Tone.PolySynth(6, Tone.Synth).toMaster();\n\tthis.synth.triggerAttackRelease('C4', '4n');\n\tTone.Transport.loopEnd = this.blockLength + \"m\";\n\tTone.Transport.loop = true;\n\tTone.Transport.bpm.value = this.bpm;\n\tthis.count = 0;\n\tthis.loop = new Tone.Loop((time) => {\n\t    for (let i = 0; i < 12; i++) {\n\t\tswitch(this.activeBlock[i][this.count].type) {\n\t\t    case 'on':\n\t\t\tthis.synth.triggerAttackRelease(this.key[i], '16n', time);\n\t\t\tbreak;\n\t\t    case 'start':\n\t\t\tthis.synth.triggerAttack(this.key[i], time);\n\t\t\tbreak;\n\t\t    case 'end':\n\t\t\tthis.synth.triggerRelease(this.key[i], time);\n\t\t\tbreak;\n\t\t}\n\t    }\n\t    if (this.count >= 15) {\n\t\tthis.count = 0;\n\t    } else {\n\t\tthis.count++;\n\t    }\n\t}, '16n').start();\n    }\n\n    play() {\n\tTone.Transport.start();\t\n    }\n\n    pause() {\n\tTone.Transport.stop();\n\tthis.synth.releaseAll();\n    }\n\n    save() {\n\tif(this.id === undefined) {\n\t    // create new song and get id\n\t    var id = APIHelper.createSong(this.getSendableSong());\n\t} else {\n\t    // update song\n\t     \n\t}\n    }\n    \n    getSendableSong()\n    {\n\tvar sendableSong = {\n\t    name: this.name,\n\t    bpm: this.bpm,\n\t    blockLength: this.blockLength,\n\t    instruments: this.tracks.map((track) => {\n\t\treturn track.track;\n\t    }),\n\t    blocks: {}\n\t};\n\tfor(let i = 1; i <= (this.blocks.length - 1); i++) {\n\t    sendableSong.blocks[i] = {\n\t\tdata: this.blocks[i].convertToData()\n\t    };\n\t}\n\treturn sendableSong;\n    }\n    \n    getFormattedCreate() {\n\treturn getFormattedDate(this.createDate);\n    }\n\n    getFormattedUpdate() {\n\treturn getFormattedDate(this.updateDate);\n    }\n\n    hasBeenUpdated() {\n\treturn (!(Math.abs(this.createDate - this.updateDate) < 50));\n    }\n}\n\nconst months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"July\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\nfunction getFormattedDate(date) {\n    var currentDate = new Date();\n    // same day\n    if(currentDate.getDate() === date.getDate()\n       && currentDate.getMonth() === date.getMonth()\n       && currentDate.getFullYear() === date.getFullYear())\n    {\n\tlet totMin = Math.floor((currentDate - date) / 60000);\n\tlet hours = Math.floor(totMin / 60);\n\tlet minutes = totMin % 60;\n\tlet hourString = \"hour\";\n\tif(hours > 1) hourString += \"s\";\n\tif(minutes === 0)\n\t{\n\t    return hours + \" \" + hourString + \"  ago\";\n\t}\n\tlet minuteString = \"minute\";\n\tif(minutes > 1) minuteString += \"s\";\n\tif(hours === 0)\n\t{\n\t    return minutes + \" \" + minuteString + \" ago\";\n\t}\n\treturn hours + \" \" + hourString + \" and \" + minutes + \" \" + minuteString + \" ago\";\n    }\n    return months[date.getMonth()] + \" \" + date.getDate() + \", \" + date.getFullYear();\n}\n\nexport default Song;\n","import Tone from 'tone';\nimport Song from './Song.js';\n\nclass EditableSong extends Song {\n    constructor(songMeta) {\n\tsuper(songMeta);\n\tthis.selectedTrack = 0;\n    }\n\n    addTrack() {\n\t\n    }\n\n    setName(name) {\n\tthis.name = name;\n    }\n\n    setBPM(bpm) {\n\tthis.bpm = bpm;\n\tTone.Transport.bpm.value = this.bpm;\n    }\n}\n\nexport default EditableSong;\n","import React, { Component }  from 'react';\n\nclass InstrEdit extends Component {\n    render(params) {\n\treturn (\n\t    <div id='instrEdit'>\n\t\t<span>Instrument </span>\n\t\t<select>\n\t\t    <option>Instrument 1</option>\n\t\t    <option>Instrument 2</option>\n\t\t    <option>Instrument 3</option>\n\t\t</select>\n\t\t<br />\n\t\t<span>Drive </span>\n\t\t<input type='number' />\n\t\t<input type='range' />\n\t\t<br />\n\t\t<span>Value 2 </span>\n\t\t<input type='number' />\n\t\t<input type='range' />\n\t\t<br />\n\t\t<span>Value 3 </span>\n\t\t<input type='number' />\n\t\t<input type='range' />\n\t    </div>\n\t);\n    }\n}\n\nexport default InstrEdit;\n","import React, { Component } from 'react';\n\nclass Tile extends Component {\n    constructor(props) {\n\tsuper(props);\n\tthis.state = props.tile;\n    }\n\n    onMouseMove(event) {\n    }\n\n    onMouseDown(event) {\n\tthis.props.dragger.active = this.props.line;\n\tthis.props.dragger.start = this;\n\t//this.state.startF();\n\t//this.forceUpdate();\n    }\n\n    onMouseUp(event) {\n\tif(this.props.line === this.props.dragger.active)\n\t{\n\t    if(this.props.dragger.start === this)\n\t    {\n\t\tthis.state.clickF();\n\t    }\n\t    else\n\t    {\n\t\tthis.props.dragger.start.state.startF();\n\t\tthis.props.dragger.start.forceUpdate();\n\t\tthis.state.endF();\n\t    }\n\t    this.forceUpdate();\n\t}\n\tthis.props.dragger.active = null;\n    }\n\n    render() {\n\treturn (\n\t    <div\n\t\tclass={\"tile \" + (this.state.type)}\n\t\tonMouseDown={this.onMouseDown.bind(this)}\n\t\tonMouseUp={this.onMouseUp.bind(this)}\n\t\tonMouseMove={this.onMouseMove.bind(this)}\n\t\t>\n\t    </div>\n\t);\n    }\n}\n\nexport default Tile;\n","import React, { Component } from 'react';\nimport Tile from './Tile.js';\n\nclass Line extends Component {\n    render() {\n\tlet tiles = [];\n\tfor(let i = 0; i < 16; i++)\n\t{\n\t    tiles.push(<Tile tile={this.props.line[i]} line={this.props.lineNum} dragger={this.props.dragger} />);\n\t}\n\treturn (\n\t    <div class='line'>\n\t\t{tiles}\t\n\t    </div>\n\t);\n    }\n}\n\nexport default Line;\n","import React, { Component } from 'react';\n\nimport Line from './Line.js';\n\nclass BlockEdit extends Component {\n    constructor(props) {\n\tsuper(props);\n\tthis.dragger = {\n\t    active: -1,\n\t    start: null\n\t}\n    }\n    \n    render() {\n\tlet lines = [];\n\tfor(let i = 0; i < 12; i ++)\n\t{\n\t    lines.push(<Line line={this.props.block[i]} lineNum={i} dragger={this.dragger} />);\n\t}\n\treturn (\n\t    <div id='blockEdit'>\n\t\t{lines}\n\t    </div>\n\t);\n    }\n}\n\nexport default BlockEdit;\n","import React, { Component } from 'react';\n\nclass Template extends Component {\n    render() {\n\treturn (\n\t    <div>\n\t    </div>\n\t);\n    }\n}\n\nexport default Template;\n","import React, { Component } from 'react';\nimport Block from './Block.js';\n\nclass Track extends Component {\n\n\n    remove() {\n\tthis.props.remove(this);\n    }\n\n    render() {\n\treturn (\n\t    <div className=\"track\">\n\t\t<h1 onClick={this.remove.bind(this)}>{this.props.id}</h1>\n\t\t<Block />\n\t    </div>\n\t);\n    }\n}\n\nexport default Track;\n","import React, { Component } from 'react';\nimport Track from './Track.js';\n\nclass Time extends Component {\n    constructor(props)\n    {\n\tsuper(props);\n\tthis.id = 1;\n\tthis.state = {\n\t    tracks: [<Track id='0' remove={this.removeTrack.bind(this)} />]\n\t}\n\tthis.offset = 0;\n    }\n\n    addTrack()\n    {\n\tvar copy = this.state.tracks.slice(0);\n\tcopy.push(<Track id={this.id} remove={this.removeTrack.bind(this)}/>);\n\tthis.setState(state => ({\n\t    tracks: copy\n\t}));\n\tthis.id++;\n    }\n\n    removeTrack(me)\n    {\n\tthis.setState(state => ({\n\t    tracks: state.tracks.filter(function(value) {\n\t\treturn !(me.props.id === value.props.id);\n\t    })\n\t}));\n    }\n\n    render()\n    {\n\treturn (\n\t    <div>\n\t\t{this.state.tracks}\n\t\t<h1 onClick={this.addTrack.bind(this)}>Create track</h1>\n\t    </div>\n\t);\n    }\n}\n\nexport default Time;\n","import React, { Component } from 'react';\nimport Tone from 'tone';\nimport './editor.css';\nimport './awesome.css';\nimport APIHelper from '../apiHelper.js';\nimport Song from './song/EditableSong.js';\nimport InstrEdit from './InstrEdit.js';\nimport BlockEdit from './blockEdit/BlockEdit.js';\nimport Time from './time/Time.js';\n\nclass Editor extends Component {  \n    constructor(props)\n    {\n\tsuper(props);\n\tthis.state = {\n\t    playing: false,\n\t    error: false,\n\t    name: \"\",\n\t    bpm: 120,\n\t    key: \"\",\n\t    keyType: \"\"\n\t};\n\tthis.keysArray = [\"C\", \"D\", \"E\", \"F\", \"G\", \"A\", \"B\"];\n\tthis.keyOptions = this.keysArray.map((key) => {\n\t    return (<option>{key}</option>);\n\t});\n\tthis.ready = false;\n\tthis.songId = props.match.params.id;\n\tif (this.songId === \"new\") {\n\t    this.song = new Song();\n\t    this.song.load();\n\t    this.song.start();\n\t    this.ready = true;\n\t} else if (!(this.songId === undefined)) {\n\t    APIHelper.getSong(this.songId)\n\t    .then((res) => {\n\t\treturn JSON.parse(res);\n\t    })\n\t    .then((parsed) => {\n\t\tthis.song = new Song(parsed);\n\t\tthis.song.load(parsed);\n\t\tthis.song.start();\n\t\tthis.ready = true;\n\t\tthis.setState({ \n\t\t    name: this.song.name,\n\t\t    bpm: this.song.bpm,\n\t\t    key: this.song.freq,\n\t\t    keyType: this.song.keyType\n\t\t});\n\t\tthis.forceUpdate();\n\t    })\n\t    .catch((err) => {\n\t\tthis.state.error = true;\n\t\tthis.state.errComp = <h1> Could not load song: {err} </h1>;\n\t    });\n\t}\n    }\n    \n    componentDidMount() {\n\tif(false && this.song && !this.ready)\n\t{\n\t    this.song.load(this.songMeta);\n\t    this.song.start();\n\t    this.ready = true;\n\t    this.forceUpdate();\n\t}\n    }\n   \n    handleToggle() {\n\tthis.setState(state => ({\n\t    playing: !state.playing\n\t}));\n\tif(this.state.playing) {\n\t    this.song.pause();\n\t}\n\telse {\n\t    this.song.play();\n\t}\n    }\n\n    onSave(evt) {\n\tevt.preventDefault();\n\tthis.song.save();\n    }\n\n    onChange(evt) {\n\tlet newState = {};\n\tlet val = evt.target.value;\n\tswitch (evt.target.id) {\n\t    case \"name\":\n\t\tthis.song.setName(val);\n\t\tbreak;\n\t    case \"bpm\":\n\t\tif (val != \"\") {\n\t\t    if (val < 1) {\n\t\t\tval = 1;\n\t\t    } else if (val > 500) {\n\t\t\tval = 500;\n\t\t    }\n\t\t    this.song.setBPM(val);\n\t\t}\n\t\tbreak;\n\t    case \"keyType\":\n\t\tthis.song.setKey(this.state.key, val);\n\t\tbreak;\n\t    case \"key\":\n\t\tthis.song.setKey(val, this.state.keyType);\n\t}\t\n\tnewState[evt.target.id] = val;\n\tthis.setState(newState);\n    }\n\n    render() {\n\tif(this.state.error) {\n\t    return this.state.errComp;\n\t}\n\tif(!this.song || !this.ready) {\n\t    return ( <div> </div> );\n\t}\n\n\treturn (\n\t    <div class=\"editor\">\n\t\t<div class=\"editor-header\">\n\t\t    <span class=\"header-left\">\n\t\t    <i onClick={this.handleToggle.bind(this)} class={\"fa \" + (this.state.playing ? \"fa-stop\" : \"fa-play\")}></i>\n\t\t    <div class=\"header-controls\">\n\t\t        <span>BPM </span>\n\t\t        <input value={this.state.bpm} id='bpm' onChange={evt => this.onChange(evt)} type=\"number\" />\n\t\t        <span>Key </span>\n\t\t        <select id=\"key\" value={this.state.key} onChange={evt => this.onChange(evt)}>\n\t\t\t    {this.keyOptions}\n\t\t        </select>\n\t\t        <select onChange={evt => this.onChange(evt)} id=\"keyType\" value={this.state.keyType}>\n\t\t\t    <option>Maj</option>\n\t\t\t    <option>min</option>\n\t\t        </select>\n\t\t    </div>\n\t\t    </span>\n\t\t    <div class=\"song-name\">\n\t\t\t<form onSubmit={(evt) => this.onSave(evt)}>\n\t\t\t    <input required onChange={evt => this.onChange(evt)} value={this.state.name} id='name' type='text' placeholder='untitled' class=\"name-input\" />\n\t\t\t    <input type='submit' value=\"Save\" className='btn btn-success' />\n\t\t\t</form>\n\t\t    </div>\n\t\t</div>\n\t\t<div class=\"row\">\n\t\t    <InstrEdit />\n\t\t    <BlockEdit block={this.song.activeBlock} />\n\t\t</div>\n\t\t<Time />\n\t    </div>\n\t);\n    }\n}\n\nexport default Editor;\n","import React, { Component } from 'react';\n\nclass Home extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.slide1 = {\n\t\t\tbackgroundImage: 'url(/assets/Slide1.png)'\n\t\t};\n\t\tthis.slide2 = {\n\t\t\tbackgroundImage: 'url(/assets/Slide2.png)'\n\t\t};\n\t\tthis.slide3 = {\n\t\t\tbackgroundImage: 'url(/assets/Slide3.png)'\n\t\t};\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<header>\n\t\t\t\t\t<div id=\"carouselExampleIndicators\" className=\"carousel slide\" data-ride=\"carousel\">\n\t\t\t\t\t\t<ol className=\"carousel-indicators\">\n\t\t\t\t\t\t\t<li data-target=\"#carouselExampleIndicators\" data-slide-to=\"0\" className=\"active\"></li>\n\t\t\t\t\t\t\t<li data-target=\"#carouselExampleIndicators\" data-slide-to=\"1\"></li>\n\t\t\t\t\t\t\t<li data-target=\"#carouselExampleIndicators\" data-slide-to=\"2\"></li>\n\t\t\t\t\t\t</ol>\n\t\t\t\t\t\t<div className=\"carousel-inner\" role=\"listbox\">\n\t\t\t\t\t\t\t<div className=\"carousel-item active\" style={this.slide1}>\n\t\t\t\t\t\t\t\t<div class=\"slide\">\n\t\t\t\t\t\t\t\t\t<h1 class=\"slide-cap\">Create 8-Bit Music in Just Minutes</h1>\n\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-light carousel-button\">View The Tutorial</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"carousel-item\" style={this.slide2}>\n\t\t\t\t\t\t\t\t<div class=\"slide\">\n\t\t\t\t\t\t\t\t\t<h1 class=\"slide-cap\">Perfect For Retro-Style Games</h1>\n\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-light carousel-button\">Listen To Example Songs</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"carousel-item\" style={this.slide3}>\n\t\t\t\t\t\t\t\t<div class=\"slide\">\n\t\t\t\t\t\t\t\t\t<h1 class=\"slide-cap\">Get Started With Our Free Chiptune Editor</h1>\n\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-light carousel-button\">Create a New Song</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<a className=\"carousel-control-prev\" href=\"#carouselExampleIndicators\" role=\"button\" data-slide=\"prev\">\n\t\t\t\t\t\t\t<span className=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\n\t\t\t\t\t\t\t<span className=\"sr-only\">Previous</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<a className=\"carousel-control-next\" href=\"#carouselExampleIndicators\" role=\"button\" data-slide=\"next\">\n\t\t\t\t\t\t\t<span className=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\n\t\t\t\t\t\t\t<span className=\"sr-only\">Next</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</header>\n\t\t\t\t<div className=\"container content\">\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"col-lg-9 col-md-8\">\n\t\t\t\t\t\t\t<h3>Popular Songs</h3>\n\t\t\t\t\t\t\t<ul className=\"song-list\">\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<div className=\"song-header\" style={{background: '#00ff9545'}}>\n\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-light playback-btn play-btn\"></button>\n\t\t\t\t\t\t\t\t\t\t<div className=\"song-title\">Sample Song</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"play-progress\" style={{width: '60%'}}></div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"buttons-container\">\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-light\"><i className=\"fa fa-pencil\"></i></button>\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-light\"><i className=\"fa fa-trash\"></i></button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"song-body\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"song-dates\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"song-creation-date\">Created November 15, 2018</span>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"song-update-date\">Updated November 16, 2018</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<a href=\"#\" className=\"song-artist\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"name\">Artist Name</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"username\">@johnsmith</div>\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<div className=\"song-header\" style={{background: '#cc00ff45'}}>\n\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-light playback-btn pause-btn\"></button>\n\t\t\t\t\t\t\t\t\t\t<div className=\"song-title\">Best Song Ever</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"play-progress\" style={{width: '30%'}}></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"song-body\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"song-dates\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"song-creation-date\">Created October 29, 2018</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<a href=\"#\" className=\"song-artist\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"name\">Another Artist</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"username\">@XxXusernameXxX</div>\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col-lg-3 col-md-4\">\n\t\t\t\t\t\t\t<h3>About</h3>\n\t\t\t\t\t\t\t<p>Chip Share is a chiptune song editor right on your browser! It is developed using <a href=\"https://reactjs.org/\">ReactJS</a> as a front-end framework and <a href=\"https://expressjs.com/\">Express</a> back-end framework.</p>\n\t\t\t\t\t\t\t<p>The project is the result of a school project collectively developed by Jake, Carson, Mishel, and Alex at Ryerson University, Toronto, Canada.</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Home;\n","import React, { Component } from 'react';\nimport { Redirect, Link } from 'react-router-dom';\nimport APIHelper from './apiHelper.js';\n\nclass Login extends Component {\n    constructor(props)\n    {\n\tsuper(props);\n\tthis.state = {\n\t    user: \"\",\n\t    pass: \"\",\n\t    alertComponent: null\n\t}\n    }\n\n    onSubmit(event)\n    {\n\tevent.preventDefault();\n\tvar response = APIHelper.login(this.state.user, this.state.pass);\n\tvar comp = (response === \"Success\" ? \n\t\t(<Redirect to=\"/profile\"/>) : \n\t\t(<div class=\"alert alert-danger\" role=\"alert\">{response}</div>));\n\tthis.setState({\n\t    alertComponent: comp\n\t});\n    }\n\n    onChange(evt)\n    {\n\tvar newState = {};\n\tnewState[evt.target.id] = evt.target.value; \n\tthis.setState(newState);\n    }\n    \n    render() {\n\treturn (\n\t    <div>\n\t\t<form onSubmit={(evt) => this.onSubmit(evt)} class=\"form-signin\">\n\t\t    <h1>Please sign in</h1>\n\t\t    <label for=\"user\" class=\"sr-only\">Username</label>\n\t\t    <input value={this.state.user} onChange={evt => this.onChange(evt)} type=\"text\" id=\"user\" class=\"form-control\" placeholder=\"Username\" required autofocus />\n\t\t    <label for=\"pass\" class=\"sr-only\">Password</label>\n\t\t    <input value={this.state.pass} onChange={evt => this.onChange(evt)} type=\"password\" id=\"pass\" class=\"form-control\" placeholder=\"Password\" required />\n\t\t    <button class=\"btn btn-lg btn-primary btn-block\" type=\"submit\">Sign in</button>\n\t\t    <h3>Don't have an account?</h3>\n\t\t    <Link to=\"/register\">Register Here</Link>\n\t\t</form>\t\n\t\t{this.state.alertComponent}\n\t    </div>\n\t);\n    }\n}\n\nexport default Login;\n","import React, { Component } from 'react';\nimport { Redirect, Link } from 'react-router-dom';\nimport APIHelper from './apiHelper.js';\n\nclass Register extends Component {\n    constructor(props)\n    {\n\tsuper(props);\n\tthis.state = {\n\t    name: \"\",\n\t    user: \"\",\n\t    pass: \"\",\n\t    capt: \"\",\n\t    alertComponent: null,\n\t    captcha: (<h1> LOADING CAPTCHA! </h1>)\n\t}\n\n\tAPIHelper.registerCaptcha()\n\t.then((data) => {\n\t    return JSON.parse(data);\n\t})\n\t.then((parsed) => {\n\t    let thing = new DOMParser().parseFromString(parsed.captcha.image, \"text/xml\").firstChild;\n\t    console.log(thing);\n\t    let element = <svg dangerouslySetInnerHTML={{__html: thing.innerHTML}}></svg>;\n\t    this.key = parsed.captcha.key;\n\t    this.setState({ captcha: element });\n\t})\n\t.catch((err) => {\n\t    console.log(err);\n\t});\n    }\n\n    onSubmit(event)\n    {\n\tevent.preventDefault();\n\tvar response = APIHelper.register(this.state.name, this.state.user, this.state.pass, { key: this.key, answer: this.state.capt });\n\tvar comp;\n\tif (response === \"Success\")\n\t{\n\t    APIHelper.login(this.state.user, this.state.pass);\n\t    comp = <Redirect to=\"/profile\"/>;\n\t}\n\telse\n\t{\n\t    comp = <div class=\"alert alert-danger\" role=\"alert\">{response}</div>;\n\t}\n\tthis.setState({\n\t    alertComponent: comp\n\t});\n    }\n\n    onChange(evt)\n    {\n\tvar newState = {};\n\tnewState[evt.target.id] = evt.target.value; \n\tthis.setState(newState);\n    }\n    \n    render() {\n\treturn (\n\t    <div>\n\t\t<form onSubmit={(evt) => this.onSubmit(evt)} class=\"form-signin\">\n\t\t    <h1>Register</h1>\n\t\t    <input value={this.state.name} onChange={evt => this.onChange(evt)} type=\"text\" id=\"name\" class=\"form-control\" placeholder=\"Name\" required autofocus /> \n\t\t    <input value={this.state.user} onChange={evt => this.onChange(evt)} type=\"text\" id=\"user\" class=\"form-control\" placeholder=\"Username\" required />\n\t\t    <input value={this.state.pass} onChange={evt => this.onChange(evt)} type=\"password\" id=\"pass\" class=\"form-control\" placeholder=\"Password\" required />\n\t\t    {this.state.captcha}\n\t\t    <input value={this.state.capt} onChange={evt => this.onChange(evt)} type=\"text\" id=\"capt\" class=\"form-control\" placeholder=\"Captcha Text\" required />\n\t\t    <button class=\"btn btn-lg btn-primary btn-block\" type=\"submit\">Register</button>\n\t\t    <h3>Already have an account?</h3>\n\t\t    <Link to=\"/login\">Login Here</Link>\n\t\t</form>\n\t\t{this.state.alertComponent}\n\t    </div>\n\t);\n    }\n}\n\nexport default Register;\n","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport APIHelper from './apiHelper.js';\n\nclass SongPlayer extends Component {\n    constructor(props) {\n\tsuper(props);\n\tthis.state = {\n\t    redirect: false,\n\t    to: \"\",\n\t    playBtn: \"play-btn\",\n\t    playing: false\n\t}\n\tthis.song = props.song;\n    }\n\n    onEdit() {\n\tlet id = this.song.id || \"\";\n\tthis.setState({\n\t    redirect: true,\n\t    to: \"/editor/\" + id\n\t});\n    }\n\n    onPlayPause() {\n\tif (this.state.playing) {\n\t    this.setState({ playBtn: \"play-btn\", playing: false });\n\t    this.song.pause();\n\t} else {\n\t    if (!this.song.loaded) {\n\t\tAPIHelper.getSong(this.song.id)\n\t\t.then((data) => {\n\t\t    return JSON.parse(data);\n\t\t})\n\t\t.then((parsed) => {\n\t\t    this.song.load(parsed);\n\t\t    this.song.start();\n\t\t})\n\t\t.catch({\n\t\t    // Could not play error\n\t\t});\n\t    }\n\t    this.setState({ playBtn: \"pause-btn\", playing: true });\n\t    this.song.play();\n\t}\n    }\n\n    render() {\n\tif (this.state.redirect) {\n\t    return <Redirect to={this.state.to} />;\n\t}\n\treturn (\n\t    <li>\n\t\t<div className=\"song-header\" style={{background: '#00ff9545'}}>\n\t\t    <button onClick={() => this.onPlayPause()} className={\"btn btn-light playback-btn \" + this.state.playBtn}></button>\n\t\t    <div className=\"song-title\">{this.song.name}</div>\n\t\t    <div className=\"play-progress\" style={{width: '60%'}}></div>\n\t\t    <div className=\"buttons-container\">\n\t\t\t<button onClick={()=> this.onEdit()} className=\"btn btn-light\"><i className=\"fa fa-pencil\"></i></button>\n\t\t\t<button className=\"btn btn-light\"><i className=\"fa fa-trash\"></i></button>\n\t\t    </div>\n\t\t</div>\n\t\t<div className=\"song-body\">\n\t\t    <div className=\"song-dates\">\n\t\t\t<span className=\"song-creation-date\">Created {this.song.getFormattedCreate()}</span>\n\t\t\t<span className=\"song-update-date\">{\n\t\t\t    this.song.hasBeenUpdated() ? \"Updated \" + this.song.getFormattedUpdate() : \"\" \n\t\t\t}</span>\n\t\t    </div>\n\t\t    <a href=\"#\" className=\"song-artist\">\n\t\t\t<div className=\"name\">{this.song.author}</div>\n\t\t\t<div className=\"username\">@{this.song.username}</div>\n\t\t    </a>\n\t\t</div>\n\t    </li>\n\t);\n    }\n}\n\nexport default SongPlayer;\n","import React, { Component } from 'react';\nimport APIHelper from './apiHelper.js';\nimport SongPlayer from './SongPlayer.js';\nimport Song from './editor/song/Song.js';\n\nclass Profile extends Component {\n\n    render() {\n\tvar songs = [];\n\tvar songMetas = APIHelper.getSongs();\n\tfor (let i = 0; i< songMetas.length; i++) {\n\t    songs.push(<SongPlayer song={new Song(songMetas[i])} />);\n\t}\n\n\treturn (\n\t    <div>\n\t      <h1 class=\"account-name\">Account Name</h1>\n\t      <div class=\"container\">\n\t          <h3>My Songs</h3>\n\t\t  <hr></hr>\n\t          <ul className='song-list'>\n\t\t      {songs}\n\t          </ul>\n\t      </div>\n\t    </div>\n\t);\n    }\n}\n\nexport default Profile;\n","const constant = {\n    ROOT_PATH: \"/ryerson/chip-share/\"\n}\n\nexport default constant;\n","import React, { Component } from 'react';\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport * as Cookies from 'js-cookie';\nimport Editor from './editor/Editor.js';\nimport Home from './Home.js';\nimport Login from './Login.js';\nimport Register from './Register.js';\nimport Profile from './Profile.js';\nimport constant from './constants.js';\n\nclass App extends Component {\n\n\tconstructor(props) {\n\t\tconsole.log(constant.ROOT_PATH);\n\t\tsuper(props);\n\t\tthis.itemNames = [\n\t\t\t\"Create\", \"My Songs\", \"Community\"\n\t\t];\n\t\tthis.destination = [\n\t\t\tconstant.ROOT_PATH + \"editor/new\",\n\t\t\tconstant.ROOT_PATH + \"profile\",\n\t\t\tconstant.ROOT_PATH + \"\"\n\t\t];\n\t}\n\n\trender() {\n\t\tconst navBarItems = this.itemNames.map((name, index) => {\n\t\t    return <li className=\"nav-item\" key={index}>\n\t\t\t    <a href={this.destination[index]} className={\"nav-link \" + (false ? \"active\" : \"\")}>\n\t\t\t\t    {this.itemNames[index]}\n\t\t\t    </a>\n\t\t    </li>;\n\t\t});\n\t\tconst UserMenu = () => {\n\t\t    var name = Cookies.get('name');\n\t\t    return <ul className=\"navbar-nav ml-auto\">\n\t\t\t{(name === undefined) ?\n\t\t\t(<a class=\"nav-link\" href={constant.ROOT_PATH + \"login\"}>Log In / Register</a>)\n\t\t\t    :\n\t\t\t(<li class=\"nav-item dropdown\">\n\t\t\t    <a class=\"nav-link dropdown-toggle\" href=\"#\" id=\"navbarDropdown\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n\t\t\t\t\tLogged in as: {name}\n\t\t\t    </a>\n\t\t\t    <div class=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\n\t\t\t\t<a class=\"dropdown-item\" href=\"#\">Profile</a>\n\t\t\t\t<a class=\"dropdown-item\" href=\"#\">Options</a>\n\t\t\t\t<div class=\"dropdown-divider\"></div>\n\t\t\t\t<a class=\"dropdown-item\" href=\"#\">Log Out</a>\n\t\t\t    </div>\n\t\t\t</li>)}\n\t\t\t</ul>;\n\t\t}\n\t\treturn (\n\t\t\t<div className=\"App\">\n\t\t\t\t<Router basename={constant.ROOT_PATH}>\n\t\t\t\t    <div>\n\t\t\t\t\t<nav className=\"navbar navbar-expand-lg navbar-dark bg-dark fixed-top\">\n\t\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t\t<a className=\"navbar-brand\" href={constant.ROOT_PATH}>Chip Share</a>\n\t\t\t\t\t\t\t<button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarResponsive\" aria-controls=\"navbarResponsive\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n\t\t\t\t\t\t\t\t<span className=\"navbar-toggler-icon\"></span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<div className=\"collapse navbar-collapse\" id=\"navbarResponsive\">\n\t\t\t\t\t\t\t\t<ul className=\"navbar-nav mr-auto\">\n\t\t\t\t\t\t\t\t\t{navBarItems}\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t<Route path=\"/\" component={UserMenu} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</nav>\n\t\t\t\t\t<Route path=\"/\" exact component={Home} />\n\t\t\t\t\t<Route path=\"/editor\" component={Editor} />\n\t\t\t\t\t<Route path=\"/editor/:id\" component={Editor} />\n\t\t\t\t\t<Route path=\"/login\" component={Login} />\n\t\t\t\t\t<Route path=\"/register\" component={Register} />\n\t\t\t\t\t<Route path=\"/profile\" component={Profile} />\n\t\t\t\t    </div>\n\t\t\t\t</Router>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}