{"version":3,"sources":["constants.js","apiHelper.js","editor/song/Track.js","editor/song/Block.js","editor/song/Song.js","editor/song/EditableSong.js","editor/InstrEdit.js","editor/blockEdit/Tile.js","editor/blockEdit/Line.js","editor/blockEdit/BlockEdit.js","editor/time/Block.js","editor/time/Track.js","editor/time/Time.js","editor/Editor.js","Home.js","Login.js","Register.js","SongRating.js","SongPlayer.js","Profile.js","App.js","serviceWorker.js","index.js"],"names":["constant","ROOT_PATH","apiHelper","registerCaptcha","req","XMLHttpRequest","open","captchaPromise","Promise","resolve","reject","onreadystatechange","readyState","status","response","send","register","name","user","pass","captcha","console","log","setRequestHeader","JSON","stringify","username","password","login","res","parse","Cookies","expires","token","refreshSecret","createSong","song","undefined","id","getSongs","userId","url","getSong","format","arguments","length","songPromise","rateSong","rating","method","route","body","xhr","onload","this","request","onerror","makeApiRequest","then","catch","err","isLoggedIn","Track","track","Object","classCallCheck","blocks","settings","typeId","metadata","types","dataValues","off","on","start","end","mid","convertFromData","data","block","i","dataLine","line","j","value","push","type","clickF","startF","endF","midF","Block","storedBlock","months","getFormattedDate","date","currentDate","Date","getDate","getMonth","getFullYear","totMin","Math","floor","hours","minutes","hourString","minuteString","Song","songMeta","tracks","bpm","blockLength","createDate","updateDate","author","ratings","setKey","loaded","progressListeners","freq","keyType","key","step","Tone","Frequency","transpose","synth","releaseAll","instruments","activeBlock","_this","Transport","cancel","PolySynth","Synth","toMaster","triggerAttackRelease","loopEnd","loop","count","Loop","time","triggerAttack","triggerRelease","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","keys","Symbol","iterator","next","done","bind","return","stop","APIHelper","getSendableSong","sendableSong","map","convertToData","abs","context","listener","EditableSong","possibleConstructorReturn","getPrototypeOf","call","selectedTrack","InstrEdit","params","react_default","a","createElement","Component","Tile","props","state","tile","event","dragger","active","forceUpdate","class","onMouseDown","onMouseUp","onMouseMove","Line","tiles","blockEdit_Tile","lineNum","BlockEdit","lines","blockEdit_Line","Template","remove","className","onClick","time_Block","Time","time_Track","removeTrack","assertThisInitialized","offset","copy","slice","setState","me","filter","addTrack","Editor","playing","error","keysArray","keyOptions","ready","songId","match","load","parsed","errComp","pause","play","evt","preventDefault","save","newState","val","target","setName","setBPM","_this2","handleToggle","onChange","onSubmit","onSave","required","placeholder","editor_InstrEdit","blockEdit_BlockEdit","time_Time","Home","slide1","backgroundImage","slide2","slide3","data-ride","data-target","data-slide-to","role","style","href","data-slide","aria-hidden","background","width","Login","alertComponent","comp","Redirect","to","for","autofocus","Link","Register","capt","thing","DOMParser","parseFromString","image","firstChild","element","dangerouslySetInnerHTML","__html","innerHTML","answer","SongRating","hover","userValue","currentUserRating","average","pos","changeable","stars","classes","ceil","onMouseEnter","onMouseLeave","setRating","SongPlayer","redirect","playBtn","addProgressListener","progress","_this3","onPlayPause","onEdit","src_SongRating","getFormattedCreate","hasBeenUpdated","getFormattedUpdate","Profile","songs","songMetas","src_SongPlayer","App","process","itemNames","destination","navBarItems","index","BrowserRouter","basename","data-toggle","aria-controls","aria-expanded","aria-label","Route","path","component","aria-haspopup","aria-labelledby","exact","Boolean","window","location","hostname","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","registration","unregister"],"mappings":"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","file":"static/js/main.948a034e.chunk.js","sourcesContent":["const constant = {\r\n    ROOT_PATH: \"/\" \r\n}\r\n\r\nexport default constant;\r\n","import * as Cookies from 'js-cookie';\r\nimport constant from './constants.js';\r\n\r\nconst in30Minutes = 1/48;\r\n\r\nconst getResponse = (xhr) => {\r\n\tconst contentType = xhr.getResponseHeader(\"Content-Type\");\r\n\tif (contentType.includes(\"application/json\")) {\r\n\t\treturn JSON.parse(xhr.response);\r\n\t} else {\r\n\t\treturn xhr.response;\r\n\t}\r\n};\r\nconst makeApiRequest = (method, route, body = null) => {\r\n\treturn new Promise(function (resolve, reject) {\r\n\t\tlet xhr = new XMLHttpRequest();\r\n\t\txhr.open(method, constant.ROOT_PATH + \"api/\" + route);\r\n\t\tconst token = Cookies.get('token');\r\n\t\tif (token)\r\n\t\t\txhr.setRequestHeader(\"Authorization\", token);\r\n\t\txhr.onload = function () {\r\n\t\t\tif (this.status >= 200 && this.status < 300) {\r\n\t\t\t\tresolve(xhr);\r\n\t\t\t} else {\r\n\t\t\t\treject({\r\n\t\t\t\t\tstatus: this.status,\r\n\t\t\t\t\trequest: xhr\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\t\txhr.onerror = function () {\r\n\t\t\treject({\r\n\t\t\t\tstatus: this.status,\r\n\t\t\t\trequest: xhr\r\n\t\t\t});\r\n\t\t};\r\n\t\tif (body != null && typeof body !== 'undefined') {\r\n\t\t\txhr.setRequestHeader(\"Content-Type\", \"application/json\");\r\n\t\t\txhr.send(body);\r\n\t\t} else\r\n\t\t\txhr.send();\r\n\t});\r\n};\r\n\r\nconst apiHelper = {\r\n\tregisterCaptcha: function() {\r\n\t\tvar req = new XMLHttpRequest();\r\n\t\treq.open(\"GET\", constant.ROOT_PATH + \"api/user/register\", true);\r\n\t\tvar captchaPromise = new Promise((resolve, reject) => {\r\n\t\t\treq.onreadystatechange = () => {\r\n\t\t\t\t// Done\r\n\t\t\t\tif (req.readyState === 4) {\r\n\t\t\t\t\tif (req.status === 200) {\r\n\t\t\t\t\t\tresolve(req.response);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treject(req.response);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t});\r\n\t\treq.send();\r\n\t\treturn captchaPromise;\r\n\t},\r\n\tregister: function(name, user, pass, captcha) {\r\n\t\tconsole.log(captcha);\r\n\t\tvar req = new XMLHttpRequest();\r\n\t\treq.open(\"POST\", constant.ROOT_PATH + \"api/user/register\", false);\r\n\t\treq.setRequestHeader(\"Content-Type\", \"application/json\");\r\n\t\treq.send(JSON.stringify({\r\n\t\t\tname: name,\r\n\t\t\tusername: user,\r\n\t\t\tpassword: pass,\r\n\t\t\tcaptcha: captcha\r\n\t\t}));\r\n\t\tif (req.status === 201)\r\n\t\t{\r\n\t\t\treturn \"Success\";\r\n\t\t}\r\n\t\treturn req.response;\r\n\t},\r\n\tlogin: function(user, pass) {\r\n\t\tvar req = new XMLHttpRequest();\r\n\t\treq.open(\"POST\", constant.ROOT_PATH + \"api/user/login\", false);\r\n\t\treq.setRequestHeader(\"Content-Type\", \"application/json\");\r\n\t\treq.send(JSON.stringify({\r\n\t\t\tusername: user,\r\n\t\t\tpassword: pass\r\n\t\t}));\r\n\t\tif (req.status === 200)\r\n\t\t{\r\n\t\t\tvar res = JSON.parse(req.response);\r\n\t\t\tCookies.set('name', res.name || \"unknown\", {\r\n\t\t\t\texpires: in30Minutes\r\n\t\t\t});\r\n\t\t\tCookies.set('token', res.token, {\r\n\t\t\t\texpires: in30Minutes\r\n\t\t\t});\r\n\t\t\tCookies.set('secret', res.refreshSecret, {\r\n\t\t\t\texpires: in30Minutes\r\n\t\t\t});\r\n\t\t\treturn \"Success\";\r\n\t\t}\r\n\t\treturn req.response;\r\n\t},\r\n\tcreateSong: function(song) {\r\n\t\tvar token = Cookies.get('token');\r\n\t\tif(!(token === undefined)) {\r\n\t\t\tvar req = new XMLHttpRequest();\r\n\t\t\treq.open(\"POST\", constant.ROOT_PATH + \"api/songs/create\", false);\r\n\t\t\treq.setRequestHeader(\"Content-Type\", \"application/json\");\r\n\t\t\treq.setRequestHeader(\"Authorization\", token);\r\n\t\t\treq.send(JSON.stringify(song));\r\n\t\t\tconsole.log(req.response);\r\n\t\t\tif (req.status === 200) {\r\n\t\t\t\treturn req.response.id;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconsole.log(\"not logged in!\");\r\n\t\t}\r\n\t},\r\n\tgetSongs: function(userId) {\r\n\t\tvar req = new XMLHttpRequest();\r\n\t\tvar url;\r\n\t\tif(userId === undefined) {\r\n\t\t\turl = constant.ROOT_PATH + \"api/songs\";\r\n\t\t} else {\r\n\t\t\turl = constant.ROOT_PATH + \"api/songs/get?userId=\" + userId;\r\n\t\t}\r\n\t\treq.open(\"GET\", url, false);\r\n\t\tconst token = Cookies.get('token');\r\n\t\tif (token)\r\n\t\t\treq.setRequestHeader(\"Authorization\", token);\r\n\t\treq.send();\r\n\t\tif (req.status === 200) {\r\n\t\t\treturn JSON.parse(req.response);\r\n\t\t} else {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t},\r\n\tgetSong: function(id, format = \"full\") {\r\n\t\tvar req = new XMLHttpRequest();\r\n\t\treq.open(\"GET\", constant.ROOT_PATH + \"api/songs/\" + id + \"/\" + format, true);\r\n\t\tconst token = Cookies.get('token');\r\n\t\tif (token && format === \"full\")\r\n\t\t\treq.setRequestHeader(\"Authorization\", token);\r\n\t\tvar songPromise = new Promise((resolve, reject) => {\r\n\t\t\treq.onreadystatechange = () => {\r\n\t\t\t\t// Done\r\n\t\t\t\tif (req.readyState === 4) {\r\n\t\t\t\t\t// Success\r\n\t\t\t\t\tif (req.status === 200) {\r\n\t\t\t\t\t\tresolve(req.response);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treject(req.response);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\treq.send();\r\n\t\treturn songPromise;\r\n\t},\r\n\trateSong: function(id, rating = null) {\r\n\t\treturn new Promise(function(resolve, reject) {\r\n\t\t\tmakeApiRequest('POST', 'songs/rate/'+id+(rating ? '/'+rating : ''))\r\n\t\t\t\t.then(() => resolve(true))\r\n\t\t\t\t.catch((err) => reject(err));\r\n\t\t});\r\n\t},\r\n\tisLoggedIn: function() {\r\n\t\treturn !!Cookies.get('token');\r\n\t}\r\n};\r\n\r\nexport default apiHelper;\r\n","class Track {\r\n    constructor(track) {\r\n\tif (!track === undefined) {\r\n\t    this.track = track;\r\n\t} else {\r\n\t    this.track = {\r\n\t\tblocks: [\r\n\t\t    1\r\n\t\t],\r\n\t\tsettings: {\r\n\t\t    typeId: 1,\r\n\t\t    metadata: \"123ab\"\r\n\t\t}\r\n\t    }\r\n\t}\r\n    }\r\n}\r\n\r\nexport default Track;\r\n","const types = ['off', 'on', 'start', 'end', 'mid'];\r\nconst dataValues = {\r\n    'off': 0, 'on': 1, 'start': 2, 'end': 3, 'mid': 4\r\n}\r\n\r\n// convert block from integer data\r\nvar convertFromData = (data, block) => {\r\n    for (let i = 0; i < data.length; i++)\r\n    {\r\n\tlet dataLine = data[i];\r\n\tlet line = [];\r\n\tfor (let j = 0; j < dataLine.length; j++)\r\n\t{\r\n\t    let value = dataLine[j];\r\n\t    line.push({\r\n\t\ttype: types[value],\r\n\t\tclickF: function() {\r\n\t\t    if(this.type === 'off')\r\n\t\t    {\r\n\t\t\tthis.type = 'on';\r\n\t\t    }\r\n\t\t    else\r\n\t\t    {\r\n\t\t\tthis.type = 'off';\r\n\t\t    }\r\n\t\t},\r\n\t\tstartF: function() {\r\n\t\t    this.type = 'start';\r\n\t\t},\r\n\t\tendF: function() {\r\n\t\t    this.type = 'end';\r\n\t\t},\r\n\t\tmidF: function() {\r\n\t\t    this.type = 'mid';\r\n\t\t}\t\r\n\t    });\r\n\t}\r\n\tblock.push(line);\r\n    }\r\n};\r\n\r\n// playable / editable block\r\nclass Block {\r\n    constructor(storedBlock) {\r\n\tthis.block = [];\r\n\tif (!(storedBlock === undefined)) {\r\n\t    // load block from data\r\n\t    convertFromData(storedBlock.data, this.block);\r\n\t} else {\r\n\t    // create blank block\r\n\t    for (let i = 0; i < 12; i++) {\r\n\t\tlet line = [];\r\n\t\tfor(let j = 0; j < 16; j++) {\r\n\t\t    line.push({\r\n\t\t\ttype: 'off',\r\n\t\t\tclickF: function() {\r\n\t\t\t    if(this.type === 'off')\r\n\t\t\t    {\r\n\t\t\t\tthis.type = 'on';\r\n\t\t\t    }\r\n\t\t\t    else\r\n\t\t\t    {\r\n\t\t\t\tthis.type = 'off';\r\n\t\t\t    }\r\n\t\t\t},\r\n\t\t\tstartF: function() {\r\n\t\t\t    this.type = 'start';\r\n\t\t\t},\r\n\t\t\tendF: function() {\r\n\t\t\t    this.type = 'end';\r\n\t\t\t},\r\n\t\t\tmidF: function() {\r\n\t\t\t    this.type = 'mid';\r\n\t\t\t}\r\n\t\t    });\r\n\t\t}\r\n\t\tthis.block.push(line);\r\n\t    }\r\n\t}\r\n    }\r\n\r\n    convertToData() {\r\n\tlet data = [];\r\n\tfor (let i = 0; i < this.block.length; i++) {\r\n\t    let line = this.block[i];\r\n\t    let dataLine = [];\r\n\t    for (let j = 0; j < line.length; j++) {\r\n\t\tlet value = line[j].type;\r\n\t\tdataLine.push(dataValues[value]);\r\n\t    }\r\n\t    data.push(dataLine);\r\n\t}\r\n\treturn data;\r\n    }\r\n}\r\n\r\nexport default Block;\r\n","import Tone from 'tone';\r\nimport APIHelper from '../../apiHelper.js'\r\nimport Track from './Track.js';\r\nimport Block from './Block.js';\r\n\r\nclass Song {\r\n\t// User: opening song, id of song\r\n\tconstructor(songMeta) {\r\n\t\tthis.blocks = [];\r\n\t\tthis.tracks = [];\r\n\t\tif (!(songMeta === undefined)) {\r\n\t\t\t// Song exist: Load meta\r\n\t\t\tthis.name = songMeta.name;\r\n\t\t\tthis.bpm = songMeta.bpm;\r\n\t\t\tthis.blockLength = songMeta.blockLength;\r\n\r\n\t\t\tthis.createDate = new Date(songMeta.createDate);\r\n\t\t\tthis.updateDate = new Date(songMeta.updateDate);\r\n\t\t\tthis.author = songMeta.user.name;\r\n\t\t\tthis.username = songMeta.user.username;\r\n\t\t\tthis.ratings = songMeta.ratings;\r\n\r\n\t\t\tthis.id = songMeta.id;\r\n\t\t} else {\r\n\t\t\t// Empty meta\r\n\t\t\tthis.name = \"awesome song\";\r\n\t\t\tthis.bpm = 120;\r\n\t\t\tthis.blockLength = 1;\r\n\t\t}\r\n\t\tthis.setKey();\r\n\t\tthis.loaded = false;\r\n\t\tthis.progressListeners = [];\r\n\t}\r\n\r\n\tsetKey(freq, type) {\r\n\t\tthis.freq = freq || \"C\";\r\n\t\tthis.keyType = type || \"Maj\";\r\n\t\tthis.key = [];\r\n\t\tthis.key[11] = (this.freq + \"3\");\r\n\t\tvar step = (type === \"Maj\") ?\r\n\t\t\t[2, 2, 1, 2, 2, 2, 1, 2, 2, 1, 2] :\r\n\t\t\t[2, 1, 2, 2, 1, 2, 2, 2, 1, 2, 2];\r\n\t\tfor (let i = 10, j = 0; i >= 0; i--, j++) {\r\n\t\t\tthis.key[i] = Tone.Frequency(this.key[i+1]).transpose(step[j]);\r\n\t\t}\r\n\t\tif (this.synth) this.synth.releaseAll();\r\n\t}\r\n\r\n\tload(songMeta) {\r\n\t\tthis.blocks.push(null);\r\n\t\tif(this.id === undefined || songMeta === undefined)\r\n\t\t{\r\n\t\t\t// Load empty song\r\n\t\t\tthis.blocks.push(new Block());\r\n\t\t\tthis.tracks.push(new Track());\r\n\t\t} else {\r\n\t\t\t// Load song from composition data\r\n\t\t\tfor (let i = 0; i < songMeta.instruments.length; i++) {\r\n\t\t\t\tthis.tracks.push(new Track(songMeta.instruments[i]));\r\n\t\t\t}\r\n\t\t\tfor (let i = 1; i <= this.blockLength; i++) {\r\n\t\t\t\tlet block = new Block(songMeta.blocks[i]);\r\n\t\t\t\tthis.blocks.push(block);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.activeBlock = this.blocks[1].block;\r\n\t\tthis.loaded = true;\r\n\t}\r\n\r\n\tstart() {\r\n\t\tTone.Transport.cancel();\r\n\t\tthis.synth = new Tone.PolySynth(6, Tone.Synth).toMaster();\r\n\t\tthis.synth.triggerAttackRelease('C4', '4n');\r\n\t\tTone.Transport.loopEnd = this.blockLength + \"m\";\r\n\t\tTone.Transport.loop = true;\r\n\t\tTone.Transport.bpm.value = this.bpm;\r\n\t\tthis.count = 0;\r\n\t\tthis.loop = new Tone.Loop((time) => {\r\n\t\t\tfor (let i = 0; i < 12; i++) {\r\n\t\t\t\tswitch(this.activeBlock[i][this.count].type) {\r\n\t\t\t\t\tcase 'on':\r\n\t\t\t\t\t\tthis.synth.triggerAttackRelease(this.key[i], '16n', time);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'start':\r\n\t\t\t\t\t\tthis.synth.triggerAttack(this.key[i], time);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'end':\r\n\t\t\t\t\t\tthis.synth.triggerRelease(this.key[i], time);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (this.count >= 15) {\r\n\t\t\t\tthis.count = 0;\r\n\t\t\t} else {\r\n\t\t\t\tthis.count++;\r\n\t\t\t}\r\n\t\t\tfor (const key of this.progressListeners.keys())\r\n\t\t\t\tthis.progressListeners[key].bind(this, this.count)();\r\n\t\t}, '16n').start();\r\n\t}\r\n\r\n\tplay() {\r\n\t\tTone.Transport.start();\r\n\t}\r\n\r\n\tpause() {\r\n\t\tTone.Transport.stop();\r\n\t\tthis.synth.releaseAll();\r\n\t}\r\n\r\n\tsave() {\r\n\t\tif(this.id === undefined) {\r\n\t\t\t// create new song and get id\r\n\t\t\tvar id = APIHelper.createSong(this.getSendableSong());\r\n\t\t} else {\r\n\t\t\t// update song\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tgetSendableSong()\r\n\t{\r\n\t\tvar sendableSong = {\r\n\t\t\tname: this.name,\r\n\t\t\tbpm: this.bpm,\r\n\t\t\tblockLength: this.blockLength,\r\n\t\t\tinstruments: this.tracks.map((track) => {\r\n\t\t\t\treturn track.track;\r\n\t\t\t}),\r\n\t\t\tblocks: {}\r\n\t\t};\r\n\t\tfor(let i = 1; i <= (this.blocks.length - 1); i++) {\r\n\t\t\tsendableSong.blocks[i] = {\r\n\t\t\t\tdata: this.blocks[i].convertToData()\r\n\t\t\t};\r\n\t\t}\r\n\t\treturn sendableSong;\r\n\t}\r\n\r\n\tgetFormattedCreate() {\r\n\t\treturn getFormattedDate(this.createDate);\r\n\t}\r\n\r\n\tgetFormattedUpdate() {\r\n\t\treturn getFormattedDate(this.updateDate);\r\n\t}\r\n\r\n\thasBeenUpdated() {\r\n\t\treturn (!(Math.abs(this.createDate - this.updateDate) < 50));\r\n\t}\r\n\taddProgressListener(context, listener) {\r\n\t\tthis.progressListeners.push(listener.bind(context));\r\n\t}\r\n}\r\n\r\nconst months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"July\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\r\n\r\nfunction getFormattedDate(date) {\r\n\tvar currentDate = new Date();\r\n\t// same day\r\n\tif(currentDate.getDate() === date.getDate()\r\n\t\t&& currentDate.getMonth() === date.getMonth()\r\n\t\t&& currentDate.getFullYear() === date.getFullYear())\r\n\t{\r\n\t\tlet totMin = Math.floor((currentDate - date) / 60000);\r\n\t\tlet hours = Math.floor(totMin / 60);\r\n\t\tlet minutes = totMin % 60;\r\n\t\tlet hourString = \"hour\";\r\n\t\tif(hours > 1) hourString += \"s\";\r\n\t\tif(minutes === 0)\r\n\t\t{\r\n\t\t\treturn hours + \" \" + hourString + \"  ago\";\r\n\t\t}\r\n\t\tlet minuteString = \"minute\";\r\n\t\tif(minutes > 1) minuteString += \"s\";\r\n\t\tif(hours === 0)\r\n\t\t{\r\n\t\t\treturn minutes + \" \" + minuteString + \" ago\";\r\n\t\t}\r\n\t\treturn hours + \" \" + hourString + \" and \" + minutes + \" \" + minuteString + \" ago\";\r\n\t}\r\n\treturn months[date.getMonth()] + \" \" + date.getDate() + \", \" + date.getFullYear();\r\n}\r\n\r\nexport default Song;\r\n","import Tone from 'tone';\r\nimport Song from './Song.js';\r\n\r\nclass EditableSong extends Song {\r\n    constructor(songMeta) {\r\n\tsuper(songMeta);\r\n\tthis.selectedTrack = 0;\r\n    }\r\n\r\n    addTrack() {\r\n\t\r\n    }\r\n\r\n    setName(name) {\r\n\tthis.name = name;\r\n    }\r\n\r\n    setBPM(bpm) {\r\n\tthis.bpm = bpm;\r\n\tTone.Transport.bpm.value = this.bpm;\r\n    }\r\n}\r\n\r\nexport default EditableSong;\r\n","import React, { Component }  from 'react';\r\n\r\nclass InstrEdit extends Component {\r\n    render(params) {\r\n\treturn (\r\n\t    <div id='instrEdit'>\r\n\t\t<span>Instrument </span>\r\n\t\t<select>\r\n\t\t    <option>Instrument 1</option>\r\n\t\t    <option>Instrument 2</option>\r\n\t\t    <option>Instrument 3</option>\r\n\t\t</select>\r\n\t\t<br />\r\n\t\t<span>Drive </span>\r\n\t\t<input type='number' />\r\n\t\t<input type='range' />\r\n\t\t<br />\r\n\t\t<span>Value 2 </span>\r\n\t\t<input type='number' />\r\n\t\t<input type='range' />\r\n\t\t<br />\r\n\t\t<span>Value 3 </span>\r\n\t\t<input type='number' />\r\n\t\t<input type='range' />\r\n\t    </div>\r\n\t);\r\n    }\r\n}\r\n\r\nexport default InstrEdit;\r\n","import React, { Component } from 'react';\r\n\r\nclass Tile extends Component {\r\n    constructor(props) {\r\n\tsuper(props);\r\n\tthis.state = props.tile;\r\n    }\r\n\r\n    onMouseMove(event) {\r\n    }\r\n\r\n    onMouseDown(event) {\r\n\tthis.props.dragger.active = this.props.line;\r\n\tthis.props.dragger.start = this;\r\n\t//this.state.startF();\r\n\t//this.forceUpdate();\r\n    }\r\n\r\n    onMouseUp(event) {\r\n\tif(this.props.line === this.props.dragger.active)\r\n\t{\r\n\t    if(this.props.dragger.start === this)\r\n\t    {\r\n\t\tthis.state.clickF();\r\n\t    }\r\n\t    else\r\n\t    {\r\n\t\tthis.props.dragger.start.state.startF();\r\n\t\tthis.props.dragger.start.forceUpdate();\r\n\t\tthis.state.endF();\r\n\t    }\r\n\t    this.forceUpdate();\r\n\t}\r\n\tthis.props.dragger.active = null;\r\n    }\r\n\r\n    render() {\r\n\treturn (\r\n\t    <div\r\n\t\tclass={\"tile \" + (this.state.type)}\r\n\t\tonMouseDown={this.onMouseDown.bind(this)}\r\n\t\tonMouseUp={this.onMouseUp.bind(this)}\r\n\t\tonMouseMove={this.onMouseMove.bind(this)}\r\n\t\t>\r\n\t    </div>\r\n\t);\r\n    }\r\n}\r\n\r\nexport default Tile;\r\n","import React, { Component } from 'react';\r\nimport Tile from './Tile.js';\r\n\r\nclass Line extends Component {\r\n    render() {\r\n\tlet tiles = [];\r\n\tfor(let i = 0; i < 16; i++)\r\n\t{\r\n\t    tiles.push(<Tile tile={this.props.line[i]} line={this.props.lineNum} dragger={this.props.dragger} />);\r\n\t}\r\n\treturn (\r\n\t    <div class='line'>\r\n\t\t{tiles}\t\r\n\t    </div>\r\n\t);\r\n    }\r\n}\r\n\r\nexport default Line;\r\n","import React, { Component } from 'react';\r\n\r\nimport Line from './Line.js';\r\n\r\nclass BlockEdit extends Component {\r\n    constructor(props) {\r\n\tsuper(props);\r\n\tthis.dragger = {\r\n\t    active: -1,\r\n\t    start: null\r\n\t}\r\n    }\r\n    \r\n    render() {\r\n\tlet lines = [];\r\n\tfor(let i = 0; i < 12; i ++)\r\n\t{\r\n\t    lines.push(<Line line={this.props.block[i]} lineNum={i} dragger={this.dragger} />);\r\n\t}\r\n\treturn (\r\n\t    <div id='blockEdit'>\r\n\t\t{lines}\r\n\t    </div>\r\n\t);\r\n    }\r\n}\r\n\r\nexport default BlockEdit;\r\n","import React, { Component } from 'react';\r\n\r\nclass Template extends Component {\r\n    render() {\r\n\treturn (\r\n\t    <div>\r\n\t    </div>\r\n\t);\r\n    }\r\n}\r\n\r\nexport default Template;\r\n","import React, { Component } from 'react';\r\nimport Block from './Block.js';\r\n\r\nclass Track extends Component {\r\n\r\n\r\n    remove() {\r\n\tthis.props.remove(this);\r\n    }\r\n\r\n    render() {\r\n\treturn (\r\n\t    <div className=\"track\">\r\n\t\t<h1 onClick={this.remove.bind(this)}>{this.props.id}</h1>\r\n\t\t<Block />\r\n\t    </div>\r\n\t);\r\n    }\r\n}\r\n\r\nexport default Track;\r\n","import React, { Component } from 'react';\r\nimport Track from './Track.js';\r\n\r\nclass Time extends Component {\r\n    constructor(props)\r\n    {\r\n\tsuper(props);\r\n\tthis.id = 1;\r\n\tthis.state = {\r\n\t    tracks: [<Track id='0' remove={this.removeTrack.bind(this)} />]\r\n\t}\r\n\tthis.offset = 0;\r\n    }\r\n\r\n    addTrack()\r\n    {\r\n\tvar copy = this.state.tracks.slice(0);\r\n\tcopy.push(<Track id={this.id} remove={this.removeTrack.bind(this)}/>);\r\n\tthis.setState(state => ({\r\n\t    tracks: copy\r\n\t}));\r\n\tthis.id++;\r\n    }\r\n\r\n    removeTrack(me)\r\n    {\r\n\tthis.setState(state => ({\r\n\t    tracks: state.tracks.filter(function(value) {\r\n\t\treturn !(me.props.id === value.props.id);\r\n\t    })\r\n\t}));\r\n    }\r\n\r\n    render()\r\n    {\r\n\treturn (\r\n\t    <div>\r\n\t\t{this.state.tracks}\r\n\t\t<h1 onClick={this.addTrack.bind(this)}>Create track</h1>\r\n\t    </div>\r\n\t);\r\n    }\r\n}\r\n\r\nexport default Time;\r\n","import React, { Component } from 'react';\r\nimport Tone from 'tone';\r\nimport './editor.css';\r\nimport './awesome.css';\r\nimport APIHelper from '../apiHelper.js';\r\nimport Song from './song/EditableSong.js';\r\nimport InstrEdit from './InstrEdit.js';\r\nimport BlockEdit from './blockEdit/BlockEdit.js';\r\nimport Time from './time/Time.js';\r\n\r\nclass Editor extends Component {  \r\n    constructor(props)\r\n    {\r\n\tsuper(props);\r\n\tthis.state = {\r\n\t    playing: false,\r\n\t    error: false,\r\n\t    name: \"\",\r\n\t    bpm: 120,\r\n\t    key: \"\",\r\n\t    keyType: \"\"\r\n\t};\r\n\tthis.keysArray = [\"C\", \"D\", \"E\", \"F\", \"G\", \"A\", \"B\"];\r\n\tthis.keyOptions = this.keysArray.map((key) => {\r\n\t    return (<option>{key}</option>);\r\n\t});\r\n\tthis.ready = false;\r\n\tthis.songId = props.match.params.id;\r\n\tif (this.songId === \"new\") {\r\n\t    this.song = new Song();\r\n\t    this.song.load();\r\n\t    this.song.start();\r\n\t    this.ready = true;\r\n\t} else if (!(this.songId === undefined)) {\r\n\t    APIHelper.getSong(this.songId)\r\n\t    .then((res) => {\r\n\t\treturn JSON.parse(res);\r\n\t    })\r\n\t    .then((parsed) => {\r\n\t\tthis.song = new Song(parsed);\r\n\t\tthis.song.load(parsed);\r\n\t\tthis.song.start();\r\n\t\tthis.ready = true;\r\n\t\tthis.setState({ \r\n\t\t    name: this.song.name,\r\n\t\t    bpm: this.song.bpm,\r\n\t\t    key: this.song.freq,\r\n\t\t    keyType: this.song.keyType\r\n\t\t});\r\n\t\tthis.forceUpdate();\r\n\t    })\r\n\t    .catch((err) => {\r\n\t\tthis.state.error = true;\r\n\t\tthis.state.errComp = <h1> Could not load song: {err} </h1>;\r\n\t    });\r\n\t}\r\n    }\r\n    \r\n    componentDidMount() {\r\n\tif(false && this.song && !this.ready)\r\n\t{\r\n\t    this.song.load(this.songMeta);\r\n\t    this.song.start();\r\n\t    this.ready = true;\r\n\t    this.forceUpdate();\r\n\t}\r\n    }\r\n   \r\n    handleToggle() {\r\n\tthis.setState(state => ({\r\n\t    playing: !state.playing\r\n\t}));\r\n\tif(this.state.playing) {\r\n\t    this.song.pause();\r\n\t}\r\n\telse {\r\n\t    this.song.play();\r\n\t}\r\n    }\r\n\r\n    onSave(evt) {\r\n\tevt.preventDefault();\r\n\tthis.song.save();\r\n    }\r\n\r\n    onChange(evt) {\r\n\tlet newState = {};\r\n\tlet val = evt.target.value;\r\n\tswitch (evt.target.id) {\r\n\t    case \"name\":\r\n\t\tthis.song.setName(val);\r\n\t\tbreak;\r\n\t    case \"bpm\":\r\n\t\tif (val != \"\") {\r\n\t\t    if (val < 1) {\r\n\t\t\tval = 1;\r\n\t\t    } else if (val > 500) {\r\n\t\t\tval = 500;\r\n\t\t    }\r\n\t\t    this.song.setBPM(val);\r\n\t\t}\r\n\t\tbreak;\r\n\t    case \"keyType\":\r\n\t\tthis.song.setKey(this.state.key, val);\r\n\t\tbreak;\r\n\t    case \"key\":\r\n\t\tthis.song.setKey(val, this.state.keyType);\r\n\t}\t\r\n\tnewState[evt.target.id] = val;\r\n\tthis.setState(newState);\r\n    }\r\n\r\n    render() {\r\n\tif(this.state.error) {\r\n\t    return this.state.errComp;\r\n\t}\r\n\tif(!this.song || !this.ready) {\r\n\t    return ( <div> </div> );\r\n\t}\r\n\r\n\treturn (\r\n\t    <div class=\"editor\">\r\n\t\t<div class=\"editor-header\">\r\n\t\t    <span class=\"header-left\">\r\n\t\t    <i onClick={this.handleToggle.bind(this)} class={\"fa \" + (this.state.playing ? \"fa-stop\" : \"fa-play\")}></i>\r\n\t\t    <div class=\"header-controls\">\r\n\t\t        <span>BPM </span>\r\n\t\t        <input value={this.state.bpm} id='bpm' onChange={evt => this.onChange(evt)} type=\"number\" />\r\n\t\t        <span>Key </span>\r\n\t\t        <select id=\"key\" value={this.state.key} onChange={evt => this.onChange(evt)}>\r\n\t\t\t    {this.keyOptions}\r\n\t\t        </select>\r\n\t\t        <select onChange={evt => this.onChange(evt)} id=\"keyType\" value={this.state.keyType}>\r\n\t\t\t    <option>Maj</option>\r\n\t\t\t    <option>min</option>\r\n\t\t        </select>\r\n\t\t    </div>\r\n\t\t    </span>\r\n\t\t    <div class=\"song-name\">\r\n\t\t\t<form onSubmit={(evt) => this.onSave(evt)}>\r\n\t\t\t    <input required onChange={evt => this.onChange(evt)} value={this.state.name} id='name' type='text' placeholder='untitled' class=\"name-input\" />\r\n\t\t\t    <input type='submit' value=\"Save\" className='btn btn-success' />\r\n\t\t\t</form>\r\n\t\t    </div>\r\n\t\t</div>\r\n\t\t<div class=\"row\">\r\n\t\t    <InstrEdit />\r\n\t\t    <BlockEdit block={this.song.activeBlock} />\r\n\t\t</div>\r\n\t\t<Time />\r\n\t    </div>\r\n\t);\r\n    }\r\n}\r\n\r\nexport default Editor;\r\n","import React, { Component } from 'react';\r\nimport constant from './constants.js';\r\n\r\nclass Home extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.slide1 = {\r\n\t\t\tbackgroundImage: 'url(' + constant.ROOT_PATH + 'assets/Slide1.png)'\r\n\t\t};\r\n\t\tthis.slide2 = {\r\n\t\t\tbackgroundImage: 'url(' + constant.ROOT_PATH + 'assets/Slide2.png)'\r\n\t\t};\r\n\t\tthis.slide3 = {\r\n\t\t\tbackgroundImage: 'url(' + constant.ROOT_PATH + 'assets/Slide3.png)'\r\n\t\t};\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<header>\r\n\t\t\t\t\t<div id=\"carouselExampleIndicators\" className=\"carousel slide\" data-ride=\"carousel\">\r\n\t\t\t\t\t\t<ol className=\"carousel-indicators\">\r\n\t\t\t\t\t\t\t<li data-target=\"#carouselExampleIndicators\" data-slide-to=\"0\" className=\"active\"></li>\r\n\t\t\t\t\t\t\t<li data-target=\"#carouselExampleIndicators\" data-slide-to=\"1\"></li>\r\n\t\t\t\t\t\t\t<li data-target=\"#carouselExampleIndicators\" data-slide-to=\"2\"></li>\r\n\t\t\t\t\t\t</ol>\r\n\t\t\t\t\t\t<div className=\"carousel-inner\" role=\"listbox\">\r\n\t\t\t\t\t\t\t<div className=\"carousel-item active\" style={this.slide1}>\r\n\t\t\t\t\t\t\t\t<div class=\"slide\">\r\n\t\t\t\t\t\t\t\t\t<h1 class=\"slide-cap\">Create 8-Bit Music in Just Minutes</h1>\r\n\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-light carousel-button\">View The Tutorial</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"carousel-item\" style={this.slide2}>\r\n\t\t\t\t\t\t\t\t<div class=\"slide\">\r\n\t\t\t\t\t\t\t\t\t<h1 class=\"slide-cap\">Perfect For Retro-Style Games</h1>\r\n\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-light carousel-button\">Listen To Example Songs</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"carousel-item\" style={this.slide3}>\r\n\t\t\t\t\t\t\t\t<div class=\"slide\">\r\n\t\t\t\t\t\t\t\t\t<h1 class=\"slide-cap\">Get Started With Our Free Chiptune Editor</h1>\r\n\t\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-light carousel-button\">Create a New Song</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<a className=\"carousel-control-prev\" href=\"#carouselExampleIndicators\" role=\"button\" data-slide=\"prev\">\r\n\t\t\t\t\t\t\t<span className=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n\t\t\t\t\t\t\t<span className=\"sr-only\">Previous</span>\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t<a className=\"carousel-control-next\" href=\"#carouselExampleIndicators\" role=\"button\" data-slide=\"next\">\r\n\t\t\t\t\t\t\t<span className=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n\t\t\t\t\t\t\t<span className=\"sr-only\">Next</span>\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</header>\r\n\t\t\t\t<div className=\"container content\">\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-lg-9 col-md-8\">\r\n\t\t\t\t\t\t\t<h3>Popular Songs</h3>\r\n\t\t\t\t\t\t\t<ul className=\"song-list\">\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<div className=\"song-header\" style={{background: '#007eff45'}}>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-light playback-btn play-btn\"></button>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"song-title\">Sample Song</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"buttons-container\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-light\"><i className=\"fa fa-pencil\"></i></button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-light\"><i className=\"fa fa-trash\"></i></button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<a href=\"#\" className=\"song-artist\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"name\">Artist Name</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"username\">@johnsmith</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"play-progress\" style={{width: '60%'}}></div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"song-body\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"song-rating changeable\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"star active full\"></div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"star full\"></div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"star half\"></div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"star\"></div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"star\"></div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"song-dates\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"song-creation-date\">Created November 15, 2018</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"song-update-date\">Updated November 16, 2018</span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-lg-3 col-md-4\">\r\n\t\t\t\t\t\t\t<h3>About</h3>\r\n\t\t\t\t\t\t\t<p>Chip Share is a chiptune song editor right on your browser! It is developed using <a href=\"https://reactjs.org/\">ReactJS</a> as a front-end framework and <a href=\"https://expressjs.com/\">Express</a> back-end framework.</p>\r\n\t\t\t\t\t\t\t<p>The project is the result of a school project collectively developed by Jake, Carson, Mishel, and Alex at Ryerson University, Toronto, Canada.</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Home;\r\n","import React, { Component } from 'react';\r\nimport { Redirect, Link } from 'react-router-dom';\r\nimport APIHelper from './apiHelper.js';\r\n\r\nclass Login extends Component {\r\n    constructor(props)\r\n    {\r\n\tsuper(props);\r\n\tthis.state = {\r\n\t    user: \"\",\r\n\t    pass: \"\",\r\n\t    alertComponent: null\r\n\t}\r\n    }\r\n\r\n    onSubmit(event)\r\n    {\r\n\tevent.preventDefault();\r\n\tvar response = APIHelper.login(this.state.user, this.state.pass);\r\n\tvar comp = (response === \"Success\" ? \r\n\t\t(<Redirect to=\"/profile\"/>) : \r\n\t\t(<div class=\"alert alert-danger\" role=\"alert\">{response}</div>));\r\n\tthis.setState({\r\n\t    alertComponent: comp\r\n\t});\r\n    }\r\n\r\n    onChange(evt)\r\n    {\r\n\tvar newState = {};\r\n\tnewState[evt.target.id] = evt.target.value; \r\n\tthis.setState(newState);\r\n    }\r\n    \r\n    render() {\r\n\treturn (\r\n\t    <div>\r\n\t\t<form onSubmit={(evt) => this.onSubmit(evt)} class=\"form-signin\">\r\n\t\t    <h1>Please sign in</h1>\r\n\t\t    <label for=\"user\" class=\"sr-only\">Username</label>\r\n\t\t    <input value={this.state.user} onChange={evt => this.onChange(evt)} type=\"text\" id=\"user\" class=\"form-control\" placeholder=\"Username\" required autofocus />\r\n\t\t    <label for=\"pass\" class=\"sr-only\">Password</label>\r\n\t\t    <input value={this.state.pass} onChange={evt => this.onChange(evt)} type=\"password\" id=\"pass\" class=\"form-control\" placeholder=\"Password\" required />\r\n\t\t    <button class=\"btn btn-lg btn-primary btn-block\" type=\"submit\">Sign in</button>\r\n\t\t    <h3>Don't have an account?</h3>\r\n\t\t    <Link to=\"/register\">Register Here</Link>\r\n\t\t</form>\t\r\n\t\t{this.state.alertComponent}\r\n\t    </div>\r\n\t);\r\n    }\r\n}\r\n\r\nexport default Login;\r\n","import React, { Component } from 'react';\r\nimport { Redirect, Link } from 'react-router-dom';\r\nimport APIHelper from './apiHelper.js';\r\n\r\nclass Register extends Component {\r\n    constructor(props)\r\n    {\r\n\tsuper(props);\r\n\tthis.state = {\r\n\t    name: \"\",\r\n\t    user: \"\",\r\n\t    pass: \"\",\r\n\t    capt: \"\",\r\n\t    alertComponent: null,\r\n\t    captcha: (<h1> LOADING CAPTCHA! </h1>)\r\n\t}\r\n\r\n\tAPIHelper.registerCaptcha()\r\n\t.then((data) => {\r\n\t    return JSON.parse(data);\r\n\t})\r\n\t.then((parsed) => {\r\n\t    let thing = new DOMParser().parseFromString(parsed.captcha.image, \"text/xml\").firstChild;\r\n\t    console.log(thing);\r\n\t    let element = <svg dangerouslySetInnerHTML={{__html: thing.innerHTML}}></svg>;\r\n\t    this.key = parsed.captcha.key;\r\n\t    this.setState({ captcha: element });\r\n\t})\r\n\t.catch((err) => {\r\n\t    console.log(err);\r\n\t});\r\n    }\r\n\r\n    onSubmit(event)\r\n    {\r\n\tevent.preventDefault();\r\n\tvar response = APIHelper.register(this.state.name, this.state.user, this.state.pass, { key: this.key, answer: this.state.capt });\r\n\tvar comp;\r\n\tif (response === \"Success\")\r\n\t{\r\n\t    APIHelper.login(this.state.user, this.state.pass);\r\n\t    comp = <Redirect to=\"/profile\"/>;\r\n\t}\r\n\telse\r\n\t{\r\n\t    comp = <div class=\"alert alert-danger\" role=\"alert\">{response}</div>;\r\n\t}\r\n\tthis.setState({\r\n\t    alertComponent: comp\r\n\t});\r\n    }\r\n\r\n    onChange(evt)\r\n    {\r\n\tvar newState = {};\r\n\tnewState[evt.target.id] = evt.target.value; \r\n\tthis.setState(newState);\r\n    }\r\n    \r\n    render() {\r\n\treturn (\r\n\t    <div>\r\n\t\t<form onSubmit={(evt) => this.onSubmit(evt)} class=\"form-signin\">\r\n\t\t    <h1>Register</h1>\r\n\t\t    <input value={this.state.name} onChange={evt => this.onChange(evt)} type=\"text\" id=\"name\" class=\"form-control\" placeholder=\"Name\" required autofocus /> \r\n\t\t    <input value={this.state.user} onChange={evt => this.onChange(evt)} type=\"text\" id=\"user\" class=\"form-control\" placeholder=\"Username\" required />\r\n\t\t    <input value={this.state.pass} onChange={evt => this.onChange(evt)} type=\"password\" id=\"pass\" class=\"form-control\" placeholder=\"Password\" required />\r\n\t\t    {this.state.captcha}\r\n\t\t    <input value={this.state.capt} onChange={evt => this.onChange(evt)} type=\"text\" id=\"capt\" class=\"form-control\" placeholder=\"Captcha Text\" required />\r\n\t\t    <button class=\"btn btn-lg btn-primary btn-block\" type=\"submit\">Register</button>\r\n\t\t    <h3>Already have an account?</h3>\r\n\t\t    <Link to=\"/login\">Login Here</Link>\r\n\t\t</form>\r\n\t\t{this.state.alertComponent}\r\n\t    </div>\r\n\t);\r\n    }\r\n}\r\n\r\nexport default Register;\r\n","import { Component } from 'react';\r\nimport React from \"react\";\r\nimport apiHelper from \"./apiHelper\";\r\n\r\nclass SongRating extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\thover: undefined,\r\n\t\t\tuserValue: this.props.song.ratings ? this.props.song.ratings.currentUserRating : null\r\n\t\t};\r\n\t\tthis.value = this.props.song.ratings ? this.props.song.ratings.average : 0;\r\n\t}\r\n\tonMouseEnter(pos) {\r\n\t\tif (!this.props.changeable)\r\n\t\t\treturn;\r\n\t\tthis.setState({\r\n\t\t\thover: pos\r\n\t\t});\r\n\t}\r\n\tonMouseLeave() {\r\n\t\tif (!this.props.changeable)\r\n\t\t\treturn;\r\n\t\tthis.setState({\r\n\t\t\thover: undefined\r\n\t\t});\r\n\t}\r\n\tsetRating(rating) {\r\n\t\tif (!this.props.changeable)\r\n\t\t\treturn;\r\n\t\trating = rating === this.state.userValue ? null : rating;\r\n\t\tapiHelper.rateSong(this.props.song.id, rating)\r\n\t\t\t.then(() => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tuserValue: rating\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\t// TODO implement properly\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t}\r\n\trender() {\r\n\t\tconst stars = [];\r\n\t\tfor (let i = 1; i <= 5; i++) {\r\n\t\t\tlet classes = \"star\";\r\n\t\t\tif (Math.ceil(this.props.value) >= i) {\r\n\t\t\t\tif (this.props.value < i) {\r\n\t\t\t\t\tclasses += \" half\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\tclasses += \" full\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (this.state.userValue && this.state.userValue >= i) {\r\n\t\t\t\tclasses += \" active\";\r\n\t\t\t}\r\n\t\t\tif (this.state.hover && this.state.hover >= i) {\r\n\t\t\t\tclasses += \" hover\";\r\n\t\t\t}\r\n\t\t\tstars.push(<div\r\n\t\t\t\tclassName={classes}\r\n\t\t\t\tonMouseEnter={this.onMouseEnter.bind(this, i)}\r\n\t\t\t\tonMouseLeave={this.onMouseLeave.bind(this)}\r\n\t\t\t\tonClick={this.setRating.bind(this, i)}>\r\n\t\t\t</div>);\r\n\t\t}\r\n\t\tlet classes = \"song-rating\"+(this.props.changeable ? \" changeable\" : \"\");\r\n\t\treturn (\r\n\t\t\t<div className={classes}>{stars}</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default SongRating;","import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport APIHelper from './apiHelper.js';\r\nimport SongRating from './SongRating.js';\r\n\r\nclass SongPlayer extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tredirect: false,\r\n\t\t\tto: \"\",\r\n\t\t\tplayBtn: \"play-btn\",\r\n\t\t\tplaying: false\r\n\t\t};\r\n\t\tthis.song = props.song;\r\n\t\tthis.song.addProgressListener(this, (count) => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tprogress: Math.ceil(((count+1)/(this.song.blockLength*16))*100)+'%'\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tonEdit() {\r\n\t\tlet id = this.song.id || \"\";\r\n\t\tthis.setState({\r\n\t\t\tredirect: true,\r\n\t\t\tto: \"/editor/\" + id\r\n\t\t});\r\n\t}\r\n\r\n\tonPlayPause() {\r\n\t\tif (this.state.playing) {\r\n\t\t\tthis.setState({ playBtn: \"play-btn\", playing: false });\r\n\t\t\tthis.song.pause();\r\n\t\t} else {\r\n\t\t\tif (!this.song.loaded) {\r\n\t\t\t\tAPIHelper.getSong(this.song.id, 'composition')\r\n\t\t\t\t\t.then((data) => {\r\n\t\t\t\t\t\treturn JSON.parse(data);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((parsed) => {\r\n\t\t\t\t\t\tthis.song.load(parsed);\r\n\t\t\t\t\t\tthis.song.start();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch({\r\n\t\t\t\t\t\t// Could not play error\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tthis.setState({ playBtn: \"pause-btn\", playing: true });\r\n\t\t\tthis.song.play();\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (this.state.redirect) {\r\n\t\t\treturn <Redirect to={this.state.to} />;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<li>\r\n\t\t\t\t<div className=\"song-header\" style={{background: '#007eff45'}}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<button onClick={() => this.onPlayPause()} className={\"btn btn-light playback-btn \" + this.state.playBtn}></button>\r\n\t\t\t\t\t\t<div className=\"song-title\">{this.song.name}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className=\"buttons-container\">\r\n\t\t\t\t\t\t\t<button onClick={()=> this.onEdit()} className=\"btn btn-light\"><i className=\"fa fa-pencil\"></i></button>\r\n\t\t\t\t\t\t\t<button className=\"btn btn-light\"><i className=\"fa fa-trash\"></i></button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<a href=\"#\" className=\"song-artist\">\r\n\t\t\t\t\t\t\t<div className=\"name\">{this.song.author}</div>\r\n\t\t\t\t\t\t\t<div className=\"username\">@{this.song.username}</div>\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"play-progress\" style={{width: this.state.progress}}></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"song-body\">\r\n\t\t\t\t\t<SongRating song={this.song} changeable={APIHelper.isLoggedIn()} value={this.song.ratings ? this.song.ratings.average : 0} />\r\n\t\t\t\t\t<div className=\"song-dates\">\r\n\t\t\t\t\t\t<span className=\"song-creation-date\">Created {this.song.getFormattedCreate()}</span>\r\n\t\t\t\t\t\t<span className=\"song-update-date\">{\r\n\t\t\t\t\t\t\tthis.song.hasBeenUpdated() ? \"Updated \" + this.song.getFormattedUpdate() : \"\"\r\n\t\t\t\t\t\t}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</li>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default SongPlayer;\r\n","import React, { Component } from 'react';\r\nimport APIHelper from './apiHelper.js';\r\nimport SongPlayer from './SongPlayer.js';\r\nimport Song from './editor/song/Song.js';\r\n\r\nclass Profile extends Component {\r\n\r\n    render() {\r\n\tvar songs = [];\r\n\tvar songMetas = APIHelper.getSongs();\r\n\tfor (let i = 0; i< songMetas.length; i++) {\r\n\t    songs.push(<SongPlayer song={new Song(songMetas[i])} />);\r\n\t}\r\n\r\n\treturn (\r\n\t    <div>\r\n\t      <h1 class=\"account-name\">Account Name</h1>\r\n\t      <div class=\"container\">\r\n\t          <h3>My Songs</h3>\r\n\t\t  <hr></hr>\r\n\t          <ul className='song-list'>\r\n\t\t      {songs}\r\n\t          </ul>\r\n\t      </div>\r\n\t    </div>\r\n\t);\r\n    }\r\n}\r\n\r\nexport default Profile;\r\n","import React, { Component } from 'react';\r\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\r\nimport * as Cookies from 'js-cookie';\r\nimport Editor from './editor/Editor.js';\r\nimport Home from './Home.js';\r\nimport Login from './Login.js';\r\nimport Register from './Register.js';\r\nimport Profile from './Profile.js';\r\nimport constant from './constants.js';\r\n\r\nclass App extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tconsole.log(process.env);\r\n\t\tconsole.log(constant.ROOT_PATH);\r\n\t\tthis.itemNames = [\r\n\t\t\t\"Create\", \"My Songs\", \"Community\"\r\n\t\t];\r\n\t\tthis.destination = [\r\n\t\t\tconstant.ROOT_PATH + \"editor/new\",\r\n\t\t\tconstant.ROOT_PATH + \"profile\",\r\n\t\t\tconstant.ROOT_PATH + \"\"\r\n\t\t];\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst navBarItems = this.itemNames.map((name, index) => {\r\n\t\t    return <li className=\"nav-item\" key={index}>\r\n\t\t\t    <a href={this.destination[index]} className={\"nav-link \" + (false ? \"active\" : \"\")}>\r\n\t\t\t\t    {this.itemNames[index]}\r\n\t\t\t    </a>\r\n\t\t    </li>;\r\n\t\t});\r\n\t\tconst UserMenu = () => {\r\n\t\t    var name = Cookies.get('name');\r\n\t\t    return <ul className=\"navbar-nav ml-auto\">\r\n\t\t\t{(name === undefined) ?\r\n\t\t\t(<a class=\"nav-link\" href={constant.ROOT_PATH + \"login\"}>Log In / Register</a>)\r\n\t\t\t    :\r\n\t\t\t(<li class=\"nav-item dropdown\">\r\n\t\t\t    <a class=\"nav-link dropdown-toggle\" href=\"#\" id=\"navbarDropdown\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n\t\t\t\t\tLogged in as: {name}\r\n\t\t\t    </a>\r\n\t\t\t    <div class=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\r\n\t\t\t\t<a class=\"dropdown-item\" href=\"#\">Profile</a>\r\n\t\t\t\t<a class=\"dropdown-item\" href=\"#\">Options</a>\r\n\t\t\t\t<div class=\"dropdown-divider\"></div>\r\n\t\t\t\t<a class=\"dropdown-item\" href=\"#\">Log Out</a>\r\n\t\t\t    </div>\r\n\t\t\t</li>)}\r\n\t\t\t</ul>;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<div className=\"App\">\r\n\t\t\t\t<Router basename={constant.ROOT_PATH}>\r\n\t\t\t\t    <div>\r\n\t\t\t\t\t<nav className=\"navbar navbar-expand-lg navbar-dark bg-dark fixed-top\">\r\n\t\t\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t\t\t<a className=\"navbar-brand\" href={constant.ROOT_PATH}>Chip Share</a>\r\n\t\t\t\t\t\t\t<button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarResponsive\" aria-controls=\"navbarResponsive\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n\t\t\t\t\t\t\t\t<span className=\"navbar-toggler-icon\"></span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<div className=\"collapse navbar-collapse\" id=\"navbarResponsive\">\r\n\t\t\t\t\t\t\t\t<ul className=\"navbar-nav mr-auto\">\r\n\t\t\t\t\t\t\t\t\t{navBarItems}\r\n\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t<Route path=\"/\" component={UserMenu} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</nav>\r\n\t\t\t\t\t<Route path=\"/\" exact component={Home} />\r\n\t\t\t\t\t<Route path=\"/editor\" component={Editor} />\r\n\t\t\t\t\t<Route path=\"/editor/:id\" component={Editor} />\r\n\t\t\t\t\t<Route path=\"/login\" component={Login} />\r\n\t\t\t\t\t<Route path=\"/register\" component={Register} />\r\n\t\t\t\t\t<Route path=\"/profile\" component={Profile} />\r\n\t\t\t\t    </div>\r\n\t\t\t\t</Router>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}